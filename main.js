(()=>{"use strict";const t=new class{constructor(t){this.fieldsize=t,this.board=document.body,this.arr=[]}addBoard(){console.log(this.fieldsize);for(let t=0;t<4*this.fieldsize;t+=1){const t=document.createElement("div");t.classList.add("cell"),this.board.appendChild(t)}}clickCell(t){t.target.classList.remove("goblin")}lastCell(){return this.arr.pop()}nowCell(){let t=Math.floor(Math.random()*this.fieldsize*4);return this.arr.unshift(t),this.arr[0]}goblinActive(t,e){e[t].classList.remove("goblin")}}(4),e=new class{constructor(){this.score=0,this.mistake=0,this.board=document.body}addTable(){const t=document.createElement("div");t.classList.add("table");const e=document.createElement("p");e.classList.add("score"),t.appendChild(e);const n=document.createElement("p");n.classList.add("mistake"),t.appendChild(n),this.board.appendChild(t)}addScore(){this.score+=1}addMistake(){this.mistake+=1}};t.addBoard(),e.addTable();const n=document.querySelector(".score"),s=document.querySelector(".mistake"),o=Array.from(document.querySelectorAll(".cell"));setInterval((()=>{setTimeout((()=>{o[t.nowCell()].classList.add("goblin")}),1e3),t.goblinActive(t.lastCell(),o)}),1e3),o.forEach((e=>{e.addEventListener("click",(e=>{if(e.target.classList.contains("goblin")){if(t.clickCell(e),n.textContent=Number(n.textContent)+1,10==n.textContent)return alert("Вы победили"),n.textContent=0,s.textContent=0,!1;if(5==s.textContent)return alert("Вы проиграли"),n.textContent=0,s.textContent=0,!1}else{if(s.textContent=Number(s.textContent)+1,10==n.textContent)return alert("Вы победили"),n.textContent=0,s.textContent=0,!1;if(5==s.textContent)return alert("Вы проиграли"),n.textContent=0,s.textContent=0,!1}}))}))})();